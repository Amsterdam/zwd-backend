# GitHub Copilot Instructions for Django DRF Code Reviews

## Project Context
This is a Django REST Framework (DRF) backend project. Focus on practical, actionable feedback that improves code quality without stating the obvious or adding unnecessary caveats.

## Code Review Principles

### Be Concise and Actionable
- Provide clear, specific feedback without hedging or excessive explanation
- If something is wrong, state what to fix
- If something is correct, move on without commentary
- Avoid stating obvious changes that are visible in the diff

### Django/DRF Best Practices
- Ensure proper use of serializers, viewsets, and permissions
- Check for N+1 query problems; suggest `select_related()` and `prefetch_related()`
- Verify proper use of DRF permissions and authentication classes
- Flag missing database indexes on filtered/ordered fields
- Ensure proper transaction handling for multi-model operations
- Check for proper use of `get_queryset()` vs hardcoded querysets

### Security & Performance
- Flag any raw SQL without parameterization
- Identify missing authentication checks
- Point out inefficient queries or missing pagination
- Check for exposed sensitive data in serializers
- Verify proper validation in serializers and views

### Code Quality
- Flag actual issues: poor naming, duplicated logic, overcomplicated code
- Suggest more Pythonic or DRF-idiomatic approaches when significantly better
- Point out missing error handling in critical paths
- Identify violations of single responsibility principle

### What NOT to Comment On
- Don't add disclaimers like "verify this is correct" or "check if this is needed elsewhere"
- Don't state what was changed if it's visible in the diff
- Don't comment on removed unused imports unless there's a genuine concern
- Don't suggest checking if something breaks - the test suite handles that
- Don't add "consider" or "might want to" unless genuinely optional
- Don't comment on style issues that linters catch (line length, formatting, etc.)

## Response Format
- Start with critical issues (security, bugs, performance)
- Then architectural/design concerns
- Finally, minor improvements if relevant
- If code is good, simply acknowledge it or stay silent

## Examples of Good vs Bad Comments

❌ Bad: "The unused import was removed. Verify it's not needed elsewhere."
✅ Good: (no comment - unused import removal is self-explanatory)

❌ Bad: "Consider adding an index on this field for better query performance."
✅ Good: "Add database index on `created_at` - this field is used in ordering and filtering."

❌ Bad: "This might cause an N+1 query problem. You may want to use select_related."
✅ Good: "N+1 query: add `.select_related('user', 'organization')` to the queryset."

❌ Bad: "The serializer looks good but make sure validation covers all edge cases."
✅ Good: (no comment if validation is actually adequate)

## Focus Areas
1. Security vulnerabilities
2. Database query optimization
3. Proper DRF patterns and conventions
4. Error handling gaps
5. Actual logic errors or bugs

Remember: The build and test suite will catch syntax errors and broken references. Focus on issues that require human judgment.
